{% extends 'base.html.twig' %}

{% block body %}

    <h1>Posts list</h1>

    <table>
        <thead>
        <tr>
            <th>Id</th>
            <th>Autor</th>
            <th>Title</th>
            <th>Text</th>
        </tr>
        </thead>
        {#<tbody>
        {% for post in posts %}
            <tr>
                <td><a href="{{ path('post_show', { 'id': post.id }) }}">{{ post.id }}</a></td>
                <td>{{ post.autor }}</td>
                <td>{{ post.title }}</td>
                <td>{{ post.text }}</td>
                <td>
                    <ul>
                        <li>
                            <a href="{{ path('post_show', { 'id': post.id }) }}">show</a>
                        </li>
                        <li>
                            <a href="{{ path('post_edit', { 'id': post.id }) }}">edit</a>
                        </li>
                    </ul>
                </td>
            </tr>

        {% endfor %}
        </tbody>#}
    </table>
    <ul class="">
        {% for post in posts %}
            <li>
                <div class="">
                    <span><a href="{{ path('post_show', { 'id': post.id }) }}">{{ post.id }}</a></span>
                    <span><s>{{ post.author }}</s></span>
                    <span>{{ post.title }}</span>

                    <p>{{ post.text }}</p>
                    {% if post.image is not null %}
                        <span>
                            <a href="{{ absolute_url(asset("uploads/files/"~ post.image)) }}">{{ post.image }}</a></span>
                        <br/>
                        <img src="{{ asset("uploads/files/"~ post.image) }}" width="20%" height="20%">
                    {% endif %}
                    {#<a href="{{ path('post_edit', { 'id': post.id }) }}" class="pure-button pure-button-primary">edit</a>#}
                    <a href="{{ path('post_show', { 'id': post.id }) }}"
                       class="">show</a>

                </div>
            </li>

        {% endfor %}
    </ul>

    {# Render each page number #}
    {% for i in 1..maxPages%10 %}
        <span>
            <a href="{{ path('post_index', {currentPage: i}) }}">{{ i }}</a>
        </span>
    {% endfor %}

    {{ render(controller('PostsBundle:Post:new')) }}

    {#{{ render(controller('PostsBundle:Post:form')) }}#}
{% endblock %}
